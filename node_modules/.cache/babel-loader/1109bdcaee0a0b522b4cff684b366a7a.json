{"ast":null,"code":"var _jsxFileName = \"/Users/katana/Desktop/Programming/Hackathons/SEED/frontend/src/components/pages/SeedDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Modal from \"react-modal\";\nimport axios from \"axios\";\nimport { BACKEND_URL } from \"../../constants\";\nimport styled from \"styled-components\";\nimport \"./Details.scss\";\nimport CrawlerModal from \"../CrawlerModal\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faStar } from \"@fortawesome/free-solid-svg-icons\";\nimport { faStar as outlined } from \"@fortawesome/free-regular-svg-icons\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SeedDetailsComponent(props) {\n  _s();\n\n  const [allCrawlers, setAllCrawlers] = useState([]);\n  const [mainSeed, setMainSeed] = useState(props.location.state.seed);\n  const [wait, setWait] = useState(true);\n  const [starCounter, setStarCounter] = useState(props.location.state.seed.stars);\n  const [seedStarred, setSeedStarred] = useState(false);\n  const [body, setBody] = useState(\"\");\n  const TOKEN = localStorage.getItem(\"TOKEN\");\n\n  function renderCrawlers() {\n    return allCrawlers.map(crawler => /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"crawler.authorID\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 41\n    }, this));\n  }\n\n  function changeSeedStarred() {\n    axios.put(`${BACKEND_URL}writing-routes/update-writing-stars/${mainSeed._id}`, {\n      newNumberOfStars: starCounter + (!seedStarred ? 1 : -1)\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${TOKEN}`\n      }\n    }).then(response => {\n      response = response.data;\n\n      if (response.success) {\n        console.log(\"Stars Updated!\");\n        setStarCounter(starCounter + (!seedStarred ? 1 : -1));\n        console.log(response);\n        setSeedStarred(!seedStarred);\n      } else {\n        console.log(\"Could not update stars!!\");\n      }\n    }).catch(err => {\n      console.log(\"Error updating number of stars!!\");\n      console.log(err);\n    });\n  }\n\n  useEffect(() => {\n    axios.get(`${BACKEND_URL}writing-routes/get-seed-body-and-stars/${props.location.state.seed._id}`).then(response => {\n      if (response.data.success) {\n        setBody(response.data.body);\n        setStarCounter(response.data.stars);\n        axios.get(`${BACKEND_URL}writing-routes/get-crawlers-for-seed/${props.location.state.seed._id}/`).then(allCrawlers => {\n          if (allCrawlers.data.success) {\n            console.log(\"All crawlers arrived!\");\n            setAllCrawlers(allCrawlers.data.allCrawlers);\n          } else {\n            console.log(\"Could not fetch all crawlers!\");\n          }\n        }).catch(err => {\n          console.log(\"Error getting all the crawlers!\");\n          console.log(err);\n        });\n      }\n    }).catch(err => {\n      console.log(\"Error!\");\n      console.log(err);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Full, {\n    children: /*#__PURE__*/_jsxDEV(SeedContainer, {\n      children: [/*#__PURE__*/_jsxDEV(SeedWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(SeedTitle, {\n          children: [mainSeed.title, /*#__PURE__*/_jsxDEV(StarsArea, {\n            children: starCounter\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AuthorName, {\n          children: [\" \", \"By \", mainSeed.userDetails.username, /*#__PURE__*/_jsxDEV(StarsArea, {\n            children: props.location.state.isLoggedIn ? /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              onClick: changeSeedStarred,\n              icon: seedStarred ? faStar : outlined\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 17\n            }, this) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Seed, {\n          mainSeed: mainSeed,\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            dangerouslySetInnerHTML: {\n              __html: body\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CrawlerContainer, {\n        children: [allCrawlers.length === 0 ? /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"No Crawls\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this) : allCrawlers.map(crawler => /*#__PURE__*/_jsxDEV(CrawlerModal, {\n          crawler: crawler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 42\n        }, this)), props.location.state.isLoggedIn ? /*#__PURE__*/_jsxDEV(Link, {\n          to: {\n            pathname: \"/add-new-crawler\",\n            state: {\n              seed: mainSeed,\n              body: body\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            children: \"Add New Crawler\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SeedDetailsComponent, \"pbK2ATu897LXTkqq+FML3/mPRFQ=\");\n\n_c = SeedDetailsComponent;\nconst SeedTitle = styled.div`\n  font-size: 2.3rem;\n  text-align: center;\n`;\n_c2 = SeedTitle;\nconst StarsArea = styled.div`\n  float: right;\n  font-size: 1.6rem;\n`; // const DangerousText = styled.div`\n//   font-size: 1.2rem;\n//   color: white;\n// `;\n// const CrawlerAuthorName = styled.div`\n//   font-size: 1.2rem;\n//   color: white;\n//   text-align: center;\n// // `;\n// const HeadingContainer = styled.div`\n//   display: flex;\n//   justify-content: center;\n//   align-items: center;\n//   padding: 2rem;\n//   font-size: 1.5rem;\n//   flex-direction: column;\n// `;\n// const ButtonWrapper = styled.div`\n//   display: flex;\n//   align-items: center;\n//   justify-content: center;\n// `;\n\n_c3 = StarsArea;\nconst Button = styled.button`\n  padding: 0.3rem 2rem;\n  border-radius: 5px;\n  margin: 1rem;\n  text-align: center;\n  cursor: pointer;\n  transition: 0.3s all ease-out;\n  font-size: 1rem;\n  font-weight: bolder;\n  &:hover {\n    background-color: #100828;\n    color: whitesmoke;\n  }\n`;\n_c4 = Button;\nconst Full = styled.div`\n  background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),\n    url(\"/images/wallpaper.jpg\");\n  background-size: cover;\n  background-repeat: no-repeat;\n  overflow: hidden;\n  height: 88vh;\n`;\n_c5 = Full;\nconst AuthorName = styled.div`\n  text-align: center;\n  font-size: 1.1rem;\n  margin: 0.3rem;\n`;\n_c6 = AuthorName;\nconst SeedContainer = styled.div`\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  box-sizing: border-box;\n  /* overflow: scroll; */\n`;\n_c7 = SeedContainer;\nconst SeedWrapper = styled.div`\n  color: white;\n  /* margin: 3rem; */\n  height: 80vh;\n  max-width: 70vw;\n  backdrop-filter: blur(5px);\n  background-color: rgba(255, 255, 255, 0.1);\n  border-radius: 20px;\n  margin: 2.5rem 4.5rem;\n  /* padding: 2.5rem 4.5rem */\n  /* transform: translateY(-25%); */\n  overflow: scroll;\n`;\n_c8 = SeedWrapper;\nconst Seed = styled.div`\n  font-size: 1.1rem;\n  color: white;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 1rem 3rem 9rem 3rem;\n  /* img {\n    width: 40%;\n    height: 220px;\n    border-radius: 50%;\n    align-items: center;\n    text-align: center;\n    margin-top: 2rem;\n  } */\n`;\n_c9 = Seed;\nconst Crawler = styled.div`\n  cursor: pointer;\n`;\nconst CrawlerContainer = styled.div`\n  overflow: scroll;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  backdrop-filter: blur(5px);\n  background-color: rgba(0, 26, 255, 0.1);\n  border-radius: 20px;\n  height: 75%;\n  transform: translateY(6%);\n  margin-right: 1rem;\n`;\n_c10 = CrawlerContainer;\nconst CrawlerWrapper = styled.div`\n  color: white;\n  margin: 3rem;\n  max-width: 50%;\n  height: 30%;\n  backdrop-filter: blur(5px);\n  background-color: rgba(255, 255, 255, 0.1);\n  padding: 2rem 3rem;\n  border-radius: 20px;\n  cursor: pointer;\n`;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10;\n\n$RefreshReg$(_c, \"SeedDetailsComponent\");\n$RefreshReg$(_c2, \"SeedTitle\");\n$RefreshReg$(_c3, \"StarsArea\");\n$RefreshReg$(_c4, \"Button\");\n$RefreshReg$(_c5, \"Full\");\n$RefreshReg$(_c6, \"AuthorName\");\n$RefreshReg$(_c7, \"SeedContainer\");\n$RefreshReg$(_c8, \"SeedWrapper\");\n$RefreshReg$(_c9, \"Seed\");\n$RefreshReg$(_c10, \"CrawlerContainer\");","map":{"version":3,"sources":["/Users/katana/Desktop/Programming/Hackathons/SEED/frontend/src/components/pages/SeedDetails.js"],"names":["React","useState","useEffect","Modal","axios","BACKEND_URL","styled","CrawlerModal","FontAwesomeIcon","faStar","outlined","Link","SeedDetailsComponent","props","allCrawlers","setAllCrawlers","mainSeed","setMainSeed","location","state","seed","wait","setWait","starCounter","setStarCounter","stars","seedStarred","setSeedStarred","body","setBody","TOKEN","localStorage","getItem","renderCrawlers","map","crawler","changeSeedStarred","put","_id","newNumberOfStars","headers","Authorization","then","response","data","success","console","log","catch","err","get","title","userDetails","username","isLoggedIn","__html","length","pathname","SeedTitle","div","StarsArea","Button","button","Full","AuthorName","SeedContainer","SeedWrapper","Seed","Crawler","CrawlerContainer","CrawlerWrapper"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Modal from \"react-modal\";\nimport axios from \"axios\";\nimport { BACKEND_URL } from \"../../constants\";\nimport styled from \"styled-components\";\nimport \"./Details.scss\";\n\nimport CrawlerModal from \"../CrawlerModal\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faStar } from \"@fortawesome/free-solid-svg-icons\";\nimport { faStar as outlined } from \"@fortawesome/free-regular-svg-icons\";\nimport { Link } from \"react-router-dom\";\n\nexport default function SeedDetailsComponent(props) {\n  const [allCrawlers, setAllCrawlers] = useState([]);\n  const [mainSeed, setMainSeed] = useState(props.location.state.seed);\n  const [wait, setWait] = useState(true);\n\n  const [starCounter, setStarCounter] = useState(\n    props.location.state.seed.stars\n  );\n  const [seedStarred, setSeedStarred] = useState(false);\n  const [body, setBody] = useState(\"\");\n  const TOKEN = localStorage.getItem(\"TOKEN\");\n  function renderCrawlers() {\n    return allCrawlers.map((crawler) => <h1>crawler.authorID</h1>);\n  }\n  function changeSeedStarred() {\n    axios\n      .put(\n        `${BACKEND_URL}writing-routes/update-writing-stars/${mainSeed._id}`,\n        {\n          newNumberOfStars: starCounter + (!seedStarred ? 1 : -1),\n        },\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${TOKEN}`,\n          },\n        }\n      )\n      .then((response) => {\n        response = response.data;\n        if (response.success) {\n          console.log(\"Stars Updated!\");\n          setStarCounter(starCounter + (!seedStarred ? 1 : -1));\n          console.log(response);\n          setSeedStarred(!seedStarred);\n        } else {\n          console.log(\"Could not update stars!!\");\n        }\n      })\n      .catch((err) => {\n        console.log(\"Error updating number of stars!!\");\n        console.log(err);\n      });\n  }\n\n  useEffect(() => {\n    axios\n      .get(\n        `${BACKEND_URL}writing-routes/get-seed-body-and-stars/${props.location.state.seed._id}`\n      )\n      .then((response) => {\n        if (response.data.success) {\n          setBody(response.data.body);\n          setStarCounter(response.data.stars);\n\n          axios\n            .get(\n              `${BACKEND_URL}writing-routes/get-crawlers-for-seed/${props.location.state.seed._id}/`\n            )\n            .then((allCrawlers) => {\n              if (allCrawlers.data.success) {\n                console.log(\"All crawlers arrived!\");\n\n                setAllCrawlers(allCrawlers.data.allCrawlers);\n              } else {\n                console.log(\"Could not fetch all crawlers!\");\n              }\n            })\n            .catch((err) => {\n              console.log(\"Error getting all the crawlers!\");\n              console.log(err);\n            });\n        }\n      })\n      .catch((err) => {\n        console.log(\"Error!\");\n        console.log(err);\n      });\n  }, []);\n\n  return (\n    <Full>\n      <SeedContainer>\n        <SeedWrapper>\n          <SeedTitle>\n            {mainSeed.title}\n            <StarsArea>{starCounter}</StarsArea>\n          </SeedTitle>\n\n          <AuthorName>\n            {\" \"}\n            By {mainSeed.userDetails.username}\n            <StarsArea>\n              {props.location.state.isLoggedIn ? (\n                <FontAwesomeIcon\n                  onClick={changeSeedStarred}\n                  icon={seedStarred ? faStar : outlined}\n                />\n              ) : null}\n            </StarsArea>\n          </AuthorName>\n          <Seed mainSeed={mainSeed}>\n            <h3 dangerouslySetInnerHTML={{ __html: body }} />\n          </Seed>\n        </SeedWrapper>\n\n        <CrawlerContainer>\n          {allCrawlers.length === 0 ? (\n            <h1>No Crawls</h1>\n          ) : (\n            allCrawlers.map((crawler) => <CrawlerModal crawler={crawler} />)\n          )}\n\n          {props.location.state.isLoggedIn ? (\n            <Link\n              to={{\n                pathname: \"/add-new-crawler\",\n                state: {\n                  seed: mainSeed,\n                  body: body,\n                },\n              }}\n            >\n              <Button>Add New Crawler</Button>\n            </Link>\n          ) : null}\n        </CrawlerContainer>\n      </SeedContainer>\n    </Full>\n  );\n}\n\nconst SeedTitle = styled.div`\n  font-size: 2.3rem;\n  text-align: center;\n`;\n\nconst StarsArea = styled.div`\n  float: right;\n  font-size: 1.6rem;\n`;\n\n// const DangerousText = styled.div`\n//   font-size: 1.2rem;\n//   color: white;\n// `;\n// const CrawlerAuthorName = styled.div`\n//   font-size: 1.2rem;\n//   color: white;\n//   text-align: center;\n// // `;\n// const HeadingContainer = styled.div`\n//   display: flex;\n//   justify-content: center;\n//   align-items: center;\n//   padding: 2rem;\n//   font-size: 1.5rem;\n//   flex-direction: column;\n// `;\n\n// const ButtonWrapper = styled.div`\n//   display: flex;\n//   align-items: center;\n//   justify-content: center;\n// `;\n\nconst Button = styled.button`\n  padding: 0.3rem 2rem;\n  border-radius: 5px;\n  margin: 1rem;\n  text-align: center;\n  cursor: pointer;\n  transition: 0.3s all ease-out;\n  font-size: 1rem;\n  font-weight: bolder;\n  &:hover {\n    background-color: #100828;\n    color: whitesmoke;\n  }\n`;\n\nconst Full = styled.div`\n  background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),\n    url(\"/images/wallpaper.jpg\");\n  background-size: cover;\n  background-repeat: no-repeat;\n  overflow: hidden;\n  height: 88vh;\n`;\nconst AuthorName = styled.div`\n  text-align: center;\n  font-size: 1.1rem;\n  margin: 0.3rem;\n`;\n\nconst SeedContainer = styled.div`\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  box-sizing: border-box;\n  /* overflow: scroll; */\n`;\n\nconst SeedWrapper = styled.div`\n  color: white;\n  /* margin: 3rem; */\n  height: 80vh;\n  max-width: 70vw;\n  backdrop-filter: blur(5px);\n  background-color: rgba(255, 255, 255, 0.1);\n  border-radius: 20px;\n  margin: 2.5rem 4.5rem;\n  /* padding: 2.5rem 4.5rem */\n  /* transform: translateY(-25%); */\n  overflow: scroll;\n`;\n\nconst Seed = styled.div`\n  font-size: 1.1rem;\n  color: white;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 1rem 3rem 9rem 3rem;\n  /* img {\n    width: 40%;\n    height: 220px;\n    border-radius: 50%;\n    align-items: center;\n    text-align: center;\n    margin-top: 2rem;\n  } */\n`;\n\nconst Crawler = styled.div`\n  cursor: pointer;\n`;\n\nconst CrawlerContainer = styled.div`\n  overflow: scroll;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  backdrop-filter: blur(5px);\n  background-color: rgba(0, 26, 255, 0.1);\n  border-radius: 20px;\n  height: 75%;\n  transform: translateY(6%);\n  margin-right: 1rem;\n`;\n\nconst CrawlerWrapper = styled.div`\n  color: white;\n  margin: 3rem;\n  max-width: 50%;\n  height: 30%;\n  backdrop-filter: blur(5px);\n  background-color: rgba(255, 255, 255, 0.1);\n  padding: 2rem 3rem;\n  border-radius: 20px;\n  cursor: pointer;\n`;\n"]},"metadata":{},"sourceType":"module"}