{"ast":null,"code":"var _jsxFileName = \"/Users/katana/Desktop/Programming/Hackathons/SEED/frontend/src/components/pages/SeedDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Modal from \"react-modal\";\nimport axios from \"axios\";\nimport { BACKEND_URL } from \"../../constants\";\nimport styled from \"styled-components\";\nimport \"./Details.scss\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faStar } from '@fortawesome/free-solid-svg-icons';\nimport { faStar as outlined } from '@fortawesome/free-regular-svg-icons';\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SeedDetailsComponent(props) {\n  _s();\n\n  const [allCrawlers, setAllCrawlers] = useState([]);\n  const [mainSeed, setMainSeed] = useState(props.location.state.seed);\n  const [starCounter, setStarCounter] = useState(props.location.state.seed.stars);\n  const [seedStarred, setSeedStarred] = useState(false);\n  const [body, setBody] = useState(\"\");\n  const TOKEN = localStorage.getItem(\"TOKEN\");\n\n  function renderCrawlers() {\n    return allCrawlers.map(crawler => /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"crawler.authorID\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 41\n    }, this));\n  }\n\n  function changeSeedStarred() {\n    axios.put(`${BACKEND_URL}writing-routes/update-writing-stars/${mainSeed._id}`, {\n      newNumberOfStars: starCounter + (!seedStarred ? 1 : -1)\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${TOKEN}`\n      }\n    }).then(response => {\n      response = response.data;\n\n      if (response.success) {\n        console.log(\"Stars Updated!\");\n        setStarCounter(starCounter + (!seedStarred ? 1 : -1));\n        console.log(response);\n        setSeedStarred(!seedStarred);\n      } else {\n        console.log(\"Could not update stars!!\");\n      }\n    }).catch(err => {\n      console.log(\"Error updating number of stars!!\");\n      console.log(err);\n    });\n  }\n\n  useEffect(() => {\n    axios.get(`${BACKEND_URL}writing-routes/get-seed-body-and-stars/${props.location.state.seed._id}`).then(response => {\n      if (response.data.success) {\n        setBody(response.data.body);\n        setStarCounter(response.data.stars);\n        axios.get(`${BACKEND_URL}writing-routes/get-crawlers-for-seed/${props.location.state.seed._id}/`).then(allCrawlers => {\n          if (allCrawlers.data.success) {\n            console.log(\"All crawlers arrived!\");\n            console.log(allCrawlers.data);\n            console.log(mainSeed);\n            setAllCrawlers(allCrawlers.data.allCrawlers);\n          } else {\n            console.log(\"Could not fetch all crawlers!\");\n          }\n        }).catch(err => {\n          console.log(\"Error getting all the crawlers!\");\n          console.log(err);\n        });\n      }\n    }).catch(err => {\n      console.log(\"Error!\");\n      console.log(err);\n    });\n  }, []); //   MODAL\n\n  const customStyles = {\n    content: {\n      top: \"55%\",\n      left: \"50%\",\n      right: \"40%\",\n      bottom: \"auto\",\n      marginRight: \"-50%\",\n      transform: \"translate(-50%, -50%)\",\n      background: \"#100B18\",\n      opacity: 0.9,\n      boxShadow: \"20px 20px 10px gray\",\n      borderRadius: \"20px\",\n      width: \"70%\",\n      height: \"70%\",\n      cursor: \"pointer\"\n    }\n  };\n  var subtitle;\n  const [modalIsOpen, setIsOpen] = useState(false);\n\n  function openModal() {\n    setIsOpen(!modalIsOpen);\n  }\n\n  function afterOpenModal() {\n    // references are now sync'd and can be accessed.\n    subtitle.style.color = \"white\";\n  }\n\n  function closeModal() {\n    setIsOpen(false);\n  }\n\n  Modal.setAppElement(\"#root\");\n  return /*#__PURE__*/_jsxDEV(Full, {\n    children: /*#__PURE__*/_jsxDEV(SeedContainer, {\n      children: [/*#__PURE__*/_jsxDEV(SeedWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(SeedTitle, {\n          children: [mainSeed.title, /*#__PURE__*/_jsxDEV(StarsArea, {\n            children: starCounter\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AuthorName, {\n          children: [\" \", \"By \", mainSeed.userDetails.username, /*#__PURE__*/_jsxDEV(StarsArea, {\n            children: props.location.state.isLoggedIn ? /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              onClick: changeSeedStarred,\n              icon: seedStarred ? faStar : outlined\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 52\n            }, this) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Seed, {\n          mainSeed: mainSeed,\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            dangerouslySetInnerHTML: {\n              __html: body\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CrawlerContainer, {\n        children: [allCrawlers.length === 0 ? /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"No Crawls\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 15\n        }, this) : allCrawlers.map(crawler => /*#__PURE__*/_jsxDEV(CrawlerWrapper, {\n          onClick: openModal,\n          children: /*#__PURE__*/_jsxDEV(Crawler, {\n            children: [modalIsOpen ? /*#__PURE__*/_jsxDEV(Modal, {\n              closeTimeoutMS: 500,\n              isOpen: modalIsOpen,\n              onAfterOpen: afterOpenModal,\n              onRequestClose: closeModal,\n              style: customStyles,\n              contentLabel: \"Example Modal\",\n              children: [/*#__PURE__*/_jsxDEV(HeadingContainer, {\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  ref: _subtitle => subtitle = _subtitle,\n                  style: {\n                    color: \"blue\"\n                  },\n                  children: crawler.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(CrawlerAuthorName, {\n                  children: [\"By \", crawler.userDetails.username]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(DangerousText, {\n                dangerouslySetInnerHTML: {\n                  __html: crawler.body\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(ButtonWrapper, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: closeModal,\n                  children: \"Close\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 21\n            }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Crawl By \", crawler.userDetails.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 19\n            }, this)]\n          }, crawler.authorID, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 19\n        }, this)), props.location.state.isLoggedIn ? /*#__PURE__*/_jsxDEV(\"button\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n            className: \"cards__item__link\",\n            to: {\n              pathname: \"/add-new-crawler\",\n              state: {\n                seed: mainSeed,\n                body: body\n              }\n            },\n            children: \" Add New Crawler\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 58\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 49\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SeedDetailsComponent, \"U/2Eko2ElcwWfSm9hQf3Q2xuqHI=\");\n\n_c = SeedDetailsComponent;\nconst SeedTitle = styled.div`\n  font-size: 2.3rem;\n  text-align: center;\n`;\n_c2 = SeedTitle;\nconst StarsArea = styled.div`\n  float: right;\n  font-size: 1.6rem;\n`;\n_c3 = StarsArea;\nconst DangerousText = styled.div`\n  font-size: 1.2rem;\n  color: white;\n`;\n_c4 = DangerousText;\nconst CrawlerAuthorName = styled.div`\n  font-size: 1.2rem;\n  color: white;\n  text-align: center;\n`;\n_c5 = CrawlerAuthorName;\nconst HeadingContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 2rem;\n  font-size: 1.5rem;\n  flex-direction: column;\n`;\n_c6 = HeadingContainer;\nconst ButtonWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n_c7 = ButtonWrapper;\nconst Button = styled.button`\n  padding: 0.3rem 2rem;\n  border-radius: 5px;\n  margin: 1rem;\n  text-align: center;\n  cursor: pointer;\n  transition: 0.3s all ease-out;\n  font-size: 1rem;\n  font-weight: bolder;\n  &:hover {\n    background-color: #100828;\n    color: whitesmoke;\n  }\n`;\n_c8 = Button;\nconst Full = styled.div`\n  background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),\n    url(\"/images/wallpaper.jpg\");\n  background-size: cover;\n  background-repeat: no-repeat;\n  overflow: hidden;\n  height: 88vh;\n`;\n_c9 = Full;\nconst AuthorName = styled.div`\n  text-align: center;\n  font-size: 1.1rem;\n  margin: 0.3rem;\n`;\n_c10 = AuthorName;\nconst SeedContainer = styled.div`\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  box-sizing: border-box;\n  /* overflow: scroll; */\n`;\n_c11 = SeedContainer;\nconst SeedWrapper = styled.div`\n  color: white;\n  /* margin: 3rem; */\n  height: 80vh;\n  max-width: 70vw;\n  backdrop-filter: blur(5px);\n  background-color: rgba(255, 255, 255, 0.1);\n  border-radius: 20px;\n  margin: 2.5rem 4.5rem;\n  /* padding: 2.5rem 4.5rem */\n  /* transform: translateY(-25%); */\n  overflow: scroll;\n`;\n_c12 = SeedWrapper;\nconst Seed = styled.div`\n  font-size: 1.1rem;\n  color: white;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 1rem 3rem 9rem 3rem;\n  /* img {\n    width: 40%;\n    height: 220px;\n    border-radius: 50%;\n    align-items: center;\n    text-align: center;\n    margin-top: 2rem;\n  } */\n`;\n_c13 = Seed;\nconst Crawler = styled.div`\n  cursor: pointer;\n`;\n_c14 = Crawler;\nconst CrawlerContainer = styled.div`\n  overflow: scroll;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  backdrop-filter: blur(5px);\n  background-color: rgba(0, 26, 255, 0.1);\n  border-radius: 20px;\n  height: 80%;\n  transform: translateY(6%);\n  margin-right: 1rem;\n`;\n_c15 = CrawlerContainer;\nconst CrawlerWrapper = styled.div`\n  color: white;\n  margin: 3rem;\n  max-width: 50%;\n  height: 30%;\n  backdrop-filter: blur(5px);\n  background-color: rgba(255, 255, 255, 0.1);\n  padding: 2rem 3rem;\n  border-radius: 20px;\n`;\n_c16 = CrawlerWrapper;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16;\n\n$RefreshReg$(_c, \"SeedDetailsComponent\");\n$RefreshReg$(_c2, \"SeedTitle\");\n$RefreshReg$(_c3, \"StarsArea\");\n$RefreshReg$(_c4, \"DangerousText\");\n$RefreshReg$(_c5, \"CrawlerAuthorName\");\n$RefreshReg$(_c6, \"HeadingContainer\");\n$RefreshReg$(_c7, \"ButtonWrapper\");\n$RefreshReg$(_c8, \"Button\");\n$RefreshReg$(_c9, \"Full\");\n$RefreshReg$(_c10, \"AuthorName\");\n$RefreshReg$(_c11, \"SeedContainer\");\n$RefreshReg$(_c12, \"SeedWrapper\");\n$RefreshReg$(_c13, \"Seed\");\n$RefreshReg$(_c14, \"Crawler\");\n$RefreshReg$(_c15, \"CrawlerContainer\");\n$RefreshReg$(_c16, \"CrawlerWrapper\");","map":{"version":3,"sources":["/Users/katana/Desktop/Programming/Hackathons/SEED/frontend/src/components/pages/SeedDetails.js"],"names":["React","useState","useEffect","Modal","axios","BACKEND_URL","styled","FontAwesomeIcon","faStar","outlined","Link","SeedDetailsComponent","props","allCrawlers","setAllCrawlers","mainSeed","setMainSeed","location","state","seed","starCounter","setStarCounter","stars","seedStarred","setSeedStarred","body","setBody","TOKEN","localStorage","getItem","renderCrawlers","map","crawler","changeSeedStarred","put","_id","newNumberOfStars","headers","Authorization","then","response","data","success","console","log","catch","err","get","customStyles","content","top","left","right","bottom","marginRight","transform","background","opacity","boxShadow","borderRadius","width","height","cursor","subtitle","modalIsOpen","setIsOpen","openModal","afterOpenModal","style","color","closeModal","setAppElement","title","userDetails","username","isLoggedIn","__html","length","_subtitle","authorID","pathname","SeedTitle","div","StarsArea","DangerousText","CrawlerAuthorName","HeadingContainer","ButtonWrapper","Button","button","Full","AuthorName","SeedContainer","SeedWrapper","Seed","Crawler","CrawlerContainer","CrawlerWrapper"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Modal from \"react-modal\";\nimport axios from \"axios\";\nimport { BACKEND_URL } from \"../../constants\";\nimport styled from \"styled-components\";\nimport \"./Details.scss\";\n\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {faStar} from '@fortawesome/free-solid-svg-icons';\nimport {faStar as outlined} from '@fortawesome/free-regular-svg-icons';\nimport {Link} from \"react-router-dom\";\n\n\nexport default function SeedDetailsComponent(props) {\n  const [allCrawlers, setAllCrawlers] = useState([]);\n  const [mainSeed, setMainSeed] = useState(props.location.state.seed);\n\n  const [starCounter, setStarCounter] = useState(\n    props.location.state.seed.stars\n  );\n  const [seedStarred, setSeedStarred] = useState(false);\n  const [body, setBody] = useState(\"\");\n  const TOKEN = localStorage.getItem(\"TOKEN\");\n  function renderCrawlers() {\n    return allCrawlers.map((crawler) => <h1>crawler.authorID</h1>);\n  }\n  function changeSeedStarred() {\n    axios\n      .put(\n        `${BACKEND_URL}writing-routes/update-writing-stars/${mainSeed._id}`,\n        {\n          newNumberOfStars: starCounter + (!seedStarred ? 1 : -1),\n        },\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${TOKEN}`,\n          },\n        }\n      )\n      .then((response) => {\n        response = response.data;\n        if (response.success) {\n          console.log(\"Stars Updated!\");\n          setStarCounter(starCounter + (!seedStarred ? 1 : -1));\n          console.log(response);\n          setSeedStarred(!seedStarred);\n        } else {\n          console.log(\"Could not update stars!!\");\n        }\n      })\n      .catch((err) => {\n        console.log(\"Error updating number of stars!!\");\n        console.log(err);\n      });\n  }\n\n  useEffect(() => {\n    axios\n      .get(\n        `${BACKEND_URL}writing-routes/get-seed-body-and-stars/${props.location.state.seed._id}`\n      )\n      .then((response) => {\n        if (response.data.success) {\n          setBody(response.data.body);\n          setStarCounter(response.data.stars);\n\n          axios\n            .get(\n              `${BACKEND_URL}writing-routes/get-crawlers-for-seed/${props.location.state.seed._id}/`\n            )\n            .then((allCrawlers) => {\n              if (allCrawlers.data.success) {\n                console.log(\"All crawlers arrived!\");\n                console.log(allCrawlers.data);\n                console.log(mainSeed);\n\n                setAllCrawlers(allCrawlers.data.allCrawlers);\n              } else {\n                console.log(\"Could not fetch all crawlers!\");\n              }\n            })\n            .catch((err) => {\n              console.log(\"Error getting all the crawlers!\");\n              console.log(err);\n            });\n        }\n      })\n      .catch((err) => {\n        console.log(\"Error!\");\n        console.log(err);\n      });\n  }, []);\n\n  //   MODAL\n  const customStyles = {\n    content: {\n      top: \"55%\",\n      left: \"50%\",\n      right: \"40%\",\n      bottom: \"auto\",\n      marginRight: \"-50%\",\n      transform: \"translate(-50%, -50%)\",\n      background: \"#100B18\",\n      opacity: 0.9,\n      boxShadow: \"20px 20px 10px gray\",\n      borderRadius: \"20px\",\n      width: \"70%\",\n      height: \"70%\",\n      cursor: \"pointer\"\n    },\n  };\n\n  var subtitle;\n  const [modalIsOpen, setIsOpen] = useState(false);\n\n  function openModal() {\n    setIsOpen(!modalIsOpen);\n  }\n\n  function afterOpenModal() {\n    // references are now sync'd and can be accessed.\n    subtitle.style.color = \"white\";\n  }\n\n  function closeModal() {\n    setIsOpen(false);\n  }\n\n\n  Modal.setAppElement(\"#root\");\n\n  return (\n    <Full>\n      <SeedContainer>\n        <SeedWrapper>\n          <SeedTitle>\n            {mainSeed.title}\n            <StarsArea>{starCounter}</StarsArea>\n          </SeedTitle>\n\n          <AuthorName>\n            {\" \"}\n            By {mainSeed.userDetails.username}\n            <StarsArea>\n\n                {props.location.state.isLoggedIn ? <FontAwesomeIcon onClick={changeSeedStarred} icon={seedStarred ? faStar : outlined}/> :null}\n\n\n            </StarsArea>\n          </AuthorName>\n          <Seed mainSeed={mainSeed}>\n            <h3 dangerouslySetInnerHTML={{ __html: body }} />\n          </Seed>\n        </SeedWrapper>\n\n        <CrawlerContainer>\n\n            {allCrawlers.length === 0 ? (\n              <h1>No Crawls</h1>\n            ) : (\n              allCrawlers.map((crawler) => (\n                  <CrawlerWrapper onClick={openModal}>\n                <Crawler key={crawler.authorID} >\n                  {modalIsOpen ? (\n                    <Modal\n                      closeTimeoutMS={500}\n                      isOpen={modalIsOpen}\n                      onAfterOpen={afterOpenModal}\n                      onRequestClose={closeModal}\n                      style={customStyles}\n                      contentLabel=\"Example Modal\"\n                    >\n                      <HeadingContainer>\n                        <h2\n                          ref={(_subtitle) => (subtitle = _subtitle)}\n                          style={{ color: \"blue\" }}\n                        >\n                          {crawler.title}\n                        </h2>\n                        <CrawlerAuthorName>\n                          By {crawler.userDetails.username}\n                        </CrawlerAuthorName>\n                      </HeadingContainer>\n                      <DangerousText\n                        dangerouslySetInnerHTML={{ __html: crawler.body }}\n                      />\n                      <ButtonWrapper>\n                        <Button onClick={closeModal}>Close</Button>\n                      </ButtonWrapper>\n                    </Modal>\n                  ) : (\n                    \"\"\n                  )}\n                  <div>Crawl By {crawler.userDetails.username}</div>\n                </Crawler>\n                  </CrawlerWrapper>\n              ))\n\n            )}\n\n            {props.location.state.isLoggedIn ?  <button> <Link className=\"cards__item__link\"  to={{\n                pathname: \"/add-new-crawler\",\n                state:{\n                    seed:mainSeed,\n                    body:body,\n                }\n            }}> Add New Crawler</Link></button>:null}\n        </CrawlerContainer>\n      </SeedContainer>\n    </Full>\n  );\n}\n\nconst SeedTitle = styled.div`\n  font-size: 2.3rem;\n  text-align: center;\n`;\n\nconst StarsArea = styled.div`\n  float: right;\n  font-size: 1.6rem;\n`;\n\nconst DangerousText = styled.div`\n  font-size: 1.2rem;\n  color: white;\n`;\nconst CrawlerAuthorName = styled.div`\n  font-size: 1.2rem;\n  color: white;\n  text-align: center;\n`;\nconst HeadingContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 2rem;\n  font-size: 1.5rem;\n  flex-direction: column;\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Button = styled.button`\n  padding: 0.3rem 2rem;\n  border-radius: 5px;\n  margin: 1rem;\n  text-align: center;\n  cursor: pointer;\n  transition: 0.3s all ease-out;\n  font-size: 1rem;\n  font-weight: bolder;\n  &:hover {\n    background-color: #100828;\n    color: whitesmoke;\n  }\n`;\n\nconst Full = styled.div`\n  background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),\n    url(\"/images/wallpaper.jpg\");\n  background-size: cover;\n  background-repeat: no-repeat;\n  overflow: hidden;\n  height: 88vh;\n`;\nconst AuthorName = styled.div`\n  text-align: center;\n  font-size: 1.1rem;\n  margin: 0.3rem;\n`;\n\nconst SeedContainer = styled.div`\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  box-sizing: border-box;\n  /* overflow: scroll; */\n`;\n\nconst SeedWrapper = styled.div`\n  color: white;\n  /* margin: 3rem; */\n  height: 80vh;\n  max-width: 70vw;\n  backdrop-filter: blur(5px);\n  background-color: rgba(255, 255, 255, 0.1);\n  border-radius: 20px;\n  margin: 2.5rem 4.5rem;\n  /* padding: 2.5rem 4.5rem */\n  /* transform: translateY(-25%); */\n  overflow: scroll;\n`;\n\nconst Seed = styled.div`\n  font-size: 1.1rem;\n  color: white;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 1rem 3rem 9rem 3rem;\n  /* img {\n    width: 40%;\n    height: 220px;\n    border-radius: 50%;\n    align-items: center;\n    text-align: center;\n    margin-top: 2rem;\n  } */\n`;\n\nconst Crawler = styled.div`\n  cursor: pointer;\n`;\n\nconst CrawlerContainer = styled.div`\n  overflow: scroll;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  backdrop-filter: blur(5px);\n  background-color: rgba(0, 26, 255, 0.1);\n  border-radius: 20px;\n  height: 80%;\n  transform: translateY(6%);\n  margin-right: 1rem;\n`;\n\nconst CrawlerWrapper = styled.div`\n  color: white;\n  margin: 3rem;\n  max-width: 50%;\n  height: 30%;\n  backdrop-filter: blur(5px);\n  background-color: rgba(255, 255, 255, 0.1);\n  padding: 2rem 3rem;\n  border-radius: 20px;\n`;\n"]},"metadata":{},"sourceType":"module"}